(this["webpackJsonpokhati-assignment"]=this["webpackJsonpokhati-assignment"]||[]).push([[0],{119:function(e,t,a){},120:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(34),c=a.n(s),i=(a(119),a(9)),o=a(48),l=a(10),j=(a(120),a(39)),d=a(17),b=a(22),m=a(199),u=a(200),x=a(203),h=a(204),O=a(194),p=a(205),f=a(202),g=a(35),v=(a(96),a(195)),w=a(192),y=a(193),C=a(80),k=a.n(C),P=a(182),A=a(197),I=a(2);var S=function(e){var t=e.setAuthenticated,a=Object(l.n)(),r=Object(n.useState)(!1),s=Object(i.a)(r,2),c=s[0],C=s[1],S=Object(n.useState)({email:"",password:""}),W=Object(i.a)(S,2),F=W[0],T=W[1],q={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"},H=function(){var e=F.email,t=F.password;return!(!e||!t)||(g.b.error("Both Email and Password are required",q),!1)},D=function(){var e=Object(b.a)(Object(d.a)().mark((function e(n){var r,s,c,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!H()){e.next=15;break}return e.prev=2,r=F.email,s=F.password,e.next=6,v.a.post("http://localhost:4000/api/login",{email:r,password:s});case 6:c=e.sent,!1===(i=c.data).status&&g.b.error(i.msg,q),!0===i.status&&(localStorage.setItem("accessToken",i.acessToken),t(!0),a("/welcome")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),g.b.error("Invalid Credentials",q);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(P.a,{elevation:10,style:{padding:20,height:"70vh",width:350,margin:"75px auto"},children:[Object(I.jsx)(m.a,{align:"center",children:Object(I.jsx)(A.a,{style:{backgroundColor:"#2F2FA2"},children:Object(I.jsx)(k.a,{})})}),Object(I.jsx)(u.a,{component:"main",maxWidth:"xs",children:Object(I.jsxs)(x.a,{sx:{marginTop:10,display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(I.jsx)(h.a,{component:"h1",variant:"h5",sx:{color:"#2f2fa2"},children:"Login"}),Object(I.jsx)(x.a,{component:"form",sx:{mt:3}}),Object(I.jsx)("form",{onSubmit:D,children:Object(I.jsxs)(m.a,{container:!0,spacing:2,children:[Object(I.jsx)(m.a,{item:!0,xs:12,children:Object(I.jsx)(O.a,{required:!0,fullWidth:!0,name:"email",id:"email",label:"Email Address",type:"email",value:F.email,onChange:function(e){return T(Object(j.a)(Object(j.a)({},F),{},{email:e.target.value}))},autoComplete:"off"})}),Object(I.jsx)(m.a,{item:!0,xs:12,children:Object(I.jsx)(O.a,{required:!0,fullWidth:!0,id:"password",name:"password",label:"Password",type:c?"text":"password",value:F.password,onChange:function(e){return T(Object(j.a)(Object(j.a)({},F),{},{password:e.target.value}))},autoComplete:"off",InputProps:{endAdornment:Object(I.jsx)(p.a,{onClick:function(){C(!c)},children:c?Object(I.jsx)(w.a,{}):Object(I.jsx)(y.a,{})})}})}),Object(I.jsx)(m.a,{item:!0,xs:12,children:Object(I.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2,backgroundColor:"#2F2FA2"},children:"Login"})})]})}),Object(I.jsx)(m.a,{container:!0,justifyContent:"flex-end",children:Object(I.jsx)(m.a,{item:!0,children:Object(I.jsx)(o.b,{to:"/register",variant:"body2",children:"Register Here"})})})]})})]}),Object(I.jsx)(g.a,{})]})},W=a(4);var F=function(){var e,t,a=Object(l.n)(),r=Object(n.useState)(!1),s=Object(i.a)(r,2),c=s[0],C=s[1],S=Object(n.useState)(!1),F=Object(i.a)(S,2),T=F[0],q=F[1],H=Object(n.useState)({email:"",password:"",confirmPassword:""}),D=Object(i.a)(H,2),E=D[0],L=D[1],$=function(a){e=a.target.name,t=a.target.value,L(Object(j.a)(Object(j.a)({},E),{},Object(W.a)({},e,t)))},B={position:"bottom-right",autoClose:1e3,pauseOnHover:!0,draggable:!0,theme:"dark"},R=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,z=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,J=function(){var e=E.email,t=E.password,a=E.confirmPassword;return e&&t&&a?e.match(R)?t.match(z)?t===a||(g.b.error("Password and Confirm Password should be same",B),!1):(g.b.error("Password must be 8 characters long and include at least one letter, one number and a special character",B),!1):(g.b.error("Invalid email address",B),!1):(g.b.error("All the fields are required",B),!1)},Z=function(){var e=Object(b.a)(Object(d.a)().mark((function e(t){var n,r,s,c,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!J()){e.next=8;break}return n=E.email,r=E.password,s=E.confirmPassword,e.next=5,v.a.post("http://localhost:4000/api/register",{email:n,password:r,confirmPassword:s});case 5:c=e.sent,!1===(i=c.data).status?g.b.error(i.msg,B):!0===i.status&&g.b.success(i.msg,Object(j.a)(Object(j.a)({},B),{},{onClose:function(){a("/")}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(P.a,{elevation:10,style:{padding:20,height:"70vh",width:350,margin:"75px auto"},children:[Object(I.jsx)(m.a,{align:"center",children:Object(I.jsx)(A.a,{style:{backgroundColor:"#2F2FA2"},children:Object(I.jsx)(k.a,{})})}),Object(I.jsx)(u.a,{component:"main",maxWidth:"xs",children:Object(I.jsxs)(x.a,{sx:{marginTop:10,display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(I.jsx)(h.a,{component:"h1",variant:"h5",sx:{color:"#2f2fa2"},children:"Register"}),Object(I.jsx)(x.a,{component:"form",sx:{mt:3}}),Object(I.jsx)("form",{onSubmit:Z,children:Object(I.jsxs)(m.a,{container:!0,spacing:2,children:[Object(I.jsx)(m.a,{item:!0,xs:12,children:Object(I.jsx)(O.a,{required:!0,fullWidth:!0,name:"email",id:"email",label:"Email Address",type:"email",value:E.email,onChange:$,autoComplete:"off"})}),Object(I.jsx)(m.a,{item:!0,xs:12,children:Object(I.jsx)(O.a,{required:!0,fullWidth:!0,id:"password",name:"password",label:"Password",type:c?"text":"password",value:E.password,onChange:$,autoComplete:"off",InputProps:{endAdornment:Object(I.jsx)(p.a,{onClick:function(){C(!c)},children:c?Object(I.jsx)(w.a,{}):Object(I.jsx)(y.a,{})})}})}),Object(I.jsx)(m.a,{item:!0,xs:12,children:Object(I.jsx)(O.a,{required:!0,fullWidth:!0,id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:T?"text":"password",value:E.confirmPassword,onChange:$,autoComplete:"off",InputProps:{endAdornment:Object(I.jsx)(p.a,{onClick:function(){q(!T)},children:T?Object(I.jsx)(w.a,{}):Object(I.jsx)(y.a,{})})}})}),Object(I.jsx)(m.a,{item:!0,xs:12,children:Object(I.jsx)(f.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2,backgroundColor:"#2F2FA2"},children:"Register"})})]})}),Object(I.jsx)(m.a,{container:!0,justifyContent:"flex-end",children:Object(I.jsx)(m.a,{item:!0,children:Object(I.jsx)(o.b,{to:"/",variant:"body2",children:"Already have an account? Sign in"})})})]})})]}),Object(I.jsx)(g.a,{})]})},T=a(201),q={display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"};var H=function(){var e=Object(l.n)();return Object(I.jsx)("div",{style:q,children:Object(I.jsx)(u.a,{maxWidth:"sm",children:Object(I.jsxs)(T.a,{elevation:3,style:{padding:"2rem",textAlign:"center"},children:[Object(I.jsx)(h.a,{variant:"h4",gutterBottom:!0,children:"Welcome!"}),Object(I.jsx)(h.a,{variant:"body1",children:"Thank you for logging in to our platform. We're excited to have you here."}),Object(I.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){localStorage.removeItem("accessToken"),e("/")},style:{marginTop:"1rem"},children:"Logout"})]})})})},D={display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"};var E=function(){return Object(I.jsx)("div",{style:D,children:Object(I.jsx)(u.a,{maxWidth:"sm",children:Object(I.jsx)(T.a,{elevation:3,style:{padding:"2rem",textAlign:"center"},children:Object(I.jsx)(h.a,{variant:"body1",children:"Please Log In to access this page."})})})})};var L=function(){var e=Object(n.useState)(!!localStorage.getItem("accessToken")),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(o.a,{children:Object(I.jsxs)(l.c,{children:[Object(I.jsx)(l.a,{path:"/register",element:Object(I.jsx)(F,{})}),Object(I.jsx)(l.a,{path:"/",element:Object(I.jsx)(S,{setAuthenticated:r})}),Object(I.jsx)(l.a,{path:"/welcome",element:a?Object(I.jsx)(H,{}):Object(I.jsx)(E,{})})]})})})};c.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(L,{})}),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.398d7cfc.chunk.js.map